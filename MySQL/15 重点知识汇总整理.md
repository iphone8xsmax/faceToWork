### 1. 聚集索引与非聚集索引

### 2. B树、B+树、红黑树

### 3. 事务四大特性(ACID)：原子性(Atomicity)、一致性(Consistency)、隔离性(Isolation)、持久性(Durability)

### 4. 并发一致性问题：丢失修改、脏读、不可重复读、幻读

### 5. 事务隔离级别：读未提交、读已提交、可重复读、可串行化

### 6. 封锁类型：读写锁(排它锁也叫写锁X，共享锁也叫读锁S)、意向锁(便于支持多粒度封锁)

### 7. 封锁协议：三级封锁协议、两段锁协议
#### 三级封锁协议
    - 一级封锁协议：事务T修改数据时必须加X锁，直到T结束才释放锁，解决**丢失修改**问题
    - 二级封锁协议：一级的基础上，要求读取数据A时必须加S锁，读取完立即释放，解决脏读问题，但是不能解决不可重复读问题
    - 三级封锁协议：在二级的基础上，要求读取数据A时必须加S锁，直到事务结束才释放S锁，解决不可重复读问题

#### 两段锁协议
    加锁和释放锁分两个阶段进行

### 8. 锁算法
    - Record lock：单个行记录上的锁
    - Gap lock：间隙锁，锁定一个范围，不包括记录本身
    - Next-key lock：record+gap 锁定一个范围，包括记录本身

### 9. 多版本并发控制MVCC(Mutil-Version Concurrency Control)
    - 用于实现隔离级别的一种具体方式，实现**读已提交**和**可重复读**
    - 读未提交隔离级别总是读取最新数据行，无需MVCC
    - 可串行化需要对所有读取行加锁，单纯MVCC无法实现

#### 9.1 版本号
    - 系统版本号：每开始一个新的事务，系统版本号就会递增
    - 事务版本号：事务开始时的系统版本号
#### 9.2 隐藏的列
    MVCC每行记录后面都隐藏两个列，用来存储两个版本号：
    - 创建版本号：创建一个数据行的快照时的系统版本号
    - 删除版本号：如果该快照的删除版本号大于当前事务版本号则快照有效，否则表示该快照已经删除
#### 9.3 Undo日志
    MVCC使用的快照存储在Undo日志中，通过回滚指针把一个数据行的所有快照连接在一起
#### 9.4 可重复读的实现过程
    PS：**当开始一个事务时，该事务的版本号大于当前所有数据行快照的版本号**
    1. SELECT
